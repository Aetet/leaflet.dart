<!DOCTYPE html>
<html>
<head>
  <title>Leaflet Zoom Levels</title>

  <link rel="stylesheet" href="packages/leaflet/leaflet.css">

  <link rel="stylesheet" href="../css/screen.css" />
</head>
<body>

  <div id="map"></div>

  <script async type="application/dart">
    import 'package:leaflet/leaflet.dart';
    import '../utils.dart';

    main() {
	    // Test that changing between layers with differing zoomlevels also updates
      // the zoomlevels in the map + also

  		getCloudMadeUrl(styleId) {
  			return 'http://{s}.tile.cloudmade.com/d4fc77ea4a63471cab2423e66626cbb6/$styleId/256/{z}/{x}/{y}.png';
  		}

  		final map = new LeafletMap.query('#map')..setView(new LatLng(50.5, 30.51), 0);

  		final cloudmadeAttribution = 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade',
  			cloudmade = new TileLayer(getCloudMadeUrl(997), new TileLayerOptions()
  		    ..attribution = cloudmadeAttribution
  		    ..minZoom = 0
  		    ..maxZoom = 10)..addTo(map),
  			cloudmade2 = new TileLayer(getCloudMadeUrl(998), new TileLayerOptions()
  		    ..attribution = 'Hello world'
  		    ..minZoom = 5
  		    ..maxZoom = 18);

  		new Layers({
  			'CloudMade Pale Dawn (5-18)': cloudmade2,
  			'CloudMade Fresh (0-10)': cloudmade
  		}).addTo(map);

  		new Scale().addTo(map);

  		for (int i = 0; i < 1000; i++) {
  			new Marker(getRandomLatLng(map)).addTo(map);
  		}
    }
	</script>
</body>
</html>
