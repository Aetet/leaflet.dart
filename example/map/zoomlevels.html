<!DOCTYPE html>
<html>
<head>
  <title>Leaflet Zoom Levels</title>

  <link rel="stylesheet" href="packages/leaflet/leaflet.css">
  <link rel="stylesheet" href="../css/screen.css" />
</head>
<body>
  <div id="map"></div>

  <script async type="application/dart">
    import 'package:leaflet/leaflet.dart';
    import '../utils.dart';

    main() {
      // Test that changing between layers with differing zoomlevels also updates
      // the zoomlevels in the map.

      var map = new LeafletMap.query('#map')
        ..setView(new LatLng(52.520, 13.404), 0);

      var layer1 = new TileLayer(osmTileUrl, new TileLayerOptions()
        ..minZoom = 0
        ..maxZoom = 10).addTo(map);

      var osmMapQuestLayer = new TileLayer(mapQuestUrl, new TileLayerOptions()
        ..minZoom = 5
        ..maxZoom = 18
        ..subdomains = ['1', '2', '3', '4']).addTo(map);

      new Layers({
        'OSM MapQuest (5-18)': osmMapQuestLayer,
        'OpenStreetMap (0-10)': osmTileLayer
      }).addTo(map);

      new Scale().addTo(map);

      for (int i = 0; i < 1000; i++) {
        new Marker(getRandomLatLng(map)).addTo(map);
      }
    }
  </script>
</body>
</html>
