<!DOCTYPE html>
<html>
<head>
	<title>Leaflet debug page</title>

  <link rel="stylesheet" href="packages/leaflet/leaflet.css">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="../css/screen.css" />
	<style>
		.mapcontainer {
		    float:left;
		    position: relative;
		    width: 32%;
		    font-size: 12px;
		    font-family: sans-serif;
		    height: 340px;
		    margin-bottom: 15px;
		    background-color: #eee;
		    margin-right: 1%;
		}

		.map {
		    position: absolute;
		    width: 100%;
		    height: 280px;
		    bottom: 0px;
		}
	</style>
</head>
<body>
	<p>These should all render identically.</p>
	<div class="mapcontainer">
		CASE 1: no opacity set on any layers
		<br />
		<div id="map1" class="map"></div>
	</div>
	<div class="mapcontainer">
		CASE 2: opacity set to .99 on overlays but not on basemap
		<br />
		<div id="map2" class="map"></div>
	</div>
	<div class="mapcontainer">
		CASE 3: opacity set on overlays but not on basemap, zIndex option set to 0 on basemap
		<br />
		<div id="map3" class="map"></div>
	</div>
	<div class="mapcontainer">
		CASE 4: opacity set to .99 on overlays but set to 1 on basemap
		<br />
		<div id="map4" class="map"></div>
	</div>
	<div class="mapcontainer">
		CASE 5: opacity set to .99 on all layers
		<br />
		<div id="map5" class="map"></div>
	</div>
	<div class="mapcontainer">
		CASE 6: opacity set to .99 on 1st and 3rd layers and 1 on middle layer
		<br />
		<div id="map6" class="map"></div>
	</div>

  <script async type="application/dart">
    import 'package:leaflet/leaflet.dart';

    main() {
  		final mapopts = new MapOptions()
  		  ..center = [35, -122]
  		  ..zoom= 5;

  		final map1 = new LeafletMap('map1', mapopts);
  		final map2 = new LeafletMap('map2', mapopts);
  		final map3 = new LeafletMap('map3', mapopts);
  		final map4 = new LeafletMap('map4', mapopts);
  		final map5 = new LeafletMap('map5', mapopts);
  		final map6 = new LeafletMap('map6', mapopts);

  		/**********
  		CASE 1: no opacity set on any layers
  		**********/
  		// OSM Basemap
  		final osm1 = new TileLayer('http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png?v=1', new TileLayerOptions()
  		    ..attribution = ''
  		    ..key = 'BC9A493B41014CAABB98F0471D759707'
  		    ..styleId = 97941
  		)..addTo(map1);

  		// EEZs / Nations
  		final eez1 = new TileLayer('http://tile1.mpatlas.org/tilecache/eezs/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = true
  		)..addTo(map1);

  		// Marine Protected Areas overlay
  		final mpa1 = new TileLayer('http://tile1.mpatlas.org/tilecache/mpas/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = false
  		)..addTo(map1);


  		/**********
  		CASE 2: opacity set on overlays but not on basemap
  		**********/
  		// OSM Basemap
  		final osm2 = new TileLayer('http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png?v=1', new TileLayerOptions()
  		    ..attribution = ''
  		    ..key = 'BC9A493B41014CAABB98F0471D759707'
  		    ..styleId = 97941
  		)..addTo(map2);

  		// EEZs / Nations
  		final eez2 = new TileLayer('http://tile1.mpatlas.org/tilecache/eezs/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = true
  		    ..opacity = 0.99
  		)..addTo(map2);

  		// Marine Protected Areas overlay
  		final mpa2 = new TileLayer('http://tile1.mpatlas.org/tilecache/mpas/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = false
  		    ..opacity = 0.99
  		)..addTo(map2);


  		/**********
  		CASE 3: opacity set on overlays but not on basemap, zIndex option set to 0 on basemap
  		**********/
  		// OSM Basemap
  		final osm3 = new TileLayer('http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png?v=1', new TileLayerOptions()
  		    ..attribution = ''
  		    ..key = 'BC9A493B41014CAABB98F0471D759707'
  		    ..styleId = 97941
  		    ..zIndex = 0
  		)..addTo(map3);

  		// EEZs / Nations
  		final eez3 = new TileLayer('http://tile1.mpatlas.org/tilecache/eezs/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = true
  		    ..opacity = 0.99
  		)..addTo(map3);

  		// Marine Protected Areas overlay
  		final mpa3 = new TileLayer('http://tile1.mpatlas.org/tilecache/mpas/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = false
  		    ..opacity = 0.99
  		)..addTo(map3);


  		/**********
  		CASE 4: opacity set on overlays but set to 1 on basemap
  		**********/
  		// OSM Basemap
  		final osm4 = new TileLayer('http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png?v=1', new TileLayerOptions()
  		    ..attribution = ''
  		    ..key = 'BC9A493B41014CAABB98F0471D759707'
  		    ..styleId = 97941
  		    ..opacity = 1
  		)..addTo(map4);

  		// EEZs / Nations
  		final eez4 = new TileLayer('http://tile1.mpatlas.org/tilecache/eezs/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = true
  		    ..opacity = 0.99
  		)..addTo(map4);

  		// Marine Protected Areas overlay
  		final mpa4 = new TileLayer('http://tile1.mpatlas.org/tilecache/mpas/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = false
  		    ..opacity = 0.99
  		)..addTo(map4);


  		/**********
  		CASE 5: opacity set to .5 on all layers
  		**********/
  		// OSM Basemap
  		final osm5 = new TileLayer('http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png?v=1', new TileLayerOptions()
  		    ..attribution = ''
  		    ..key = 'BC9A493B41014CAABB98F0471D759707'
  		    ..styleId = 97941
  		    ..opacity = 0.99
  		)..addTo(map5);

  		// EEZs / Nations
  		final eez5 = new TileLayer('http://tile1.mpatlas.org/tilecache/eezs/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = true
  		    ..opacity = 0.99
  		)..addTo(map5);

  		// Marine Protected Areas overlay
  		final mpa5 = new TileLayer('http://tile1.mpatlas.org/tilecache/mpas/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = false
  		    ..opacity = 0.99
  		)..addTo(map5);


  		/**********
  		CASE 6: opacity set to .5 on 1st and 3rd layers and 1 on middle layer
  		**********/
  		// OSM Basemap
  		final osm6 = new TileLayer('http://{s}.tile.cloudmade.com/{key}/{styleId}/256/{z}/{x}/{y}.png?v=1', new TileLayerOptions()
  		    ..attribution = ''
  		    ..key = 'BC9A493B41014CAABB98F0471D759707'
  		    ..styleId = 97941
  		    ..opacity = 0.99
  		)..addTo(map6);

  		// EEZs / Nations
  		final eez6 = new TileLayer('http://tile1.mpatlas.org/tilecache/eezs/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = true
  		    ..opacity = 1
  		)..addTo(map6);

  		// Marine Protected Areas overlay
  		final mpa6 = new TileLayer('http://tile1.mpatlas.org/tilecache/mpas/{z}/{x}/{y}.png', new TileLayerOptions()
  		    ..tms = false
  		    ..opacity = 0.99
  		)..addTo(map6);
    }
	</script>
</body>
</html>
